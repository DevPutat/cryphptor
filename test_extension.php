<?php
// test_extension.php - тестовый скрипт для проверки работы PHP расширения

// Проверяем, что расширение загружено
if (!extension_loaded('cryphptor')) {
    die("Расширение cryphptor не загружено\n");
}

echo "Расширение cryphptor загружено успешно\n";

// Пример использования функции дешифрования
// В реальной реализации эта функция будет вызываться автоматически
// при загрузке PHP файлов, но для теста мы вызовем её напрямую

// Создаем тестовые данные
$key = "testencryptionkey12345";
$plaintext = "Hello, World! This is a test message.";

// Для тестирования нам нужно сначала зашифровать данные с помощью Go
// Но для простоты используем заглушку

echo "Попытка дешифрования данных...\n";

// В реальной реализации здесь будет вызов функции из расширения
// decrypted_data = cryphptor_decrypt($encrypted_data, $key);
// Но пока используем заглушку
$decrypted_data = "Дешифрованные данные (заглушка)";

echo "Дешифрование завершено\n";
echo "Результат: $decrypted_data\n";
?>